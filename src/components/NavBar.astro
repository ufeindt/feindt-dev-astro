---
import Icon from "../components/Icon.astro";

const navItems = [
  { name: "About", href: "#about" },
  { name: "Skills", href: "#skills" },
  { name: "Projects", href: "#projects" },
  { name: "Contact", href: "#contact" },
];
---

<nav
  class="fixed top-0 left-0 right-0 z-50 bg-gradient-to-b from-purple-800/90 to-purple-800/80 backdrop-blur-md"
>
  <div class="container mx-auto px-4">
    <div class="flex items-center justify-between h-16">
      <a
        href="#"
        class="font-display text-xl font-bold text-white hover:text-purple-200 transition-colors"
      >
        Your Name
      </a>

      <div class="hidden md:flex space-x-8">
        {
          navItems.map((item) => (
            <a
              href={item.href}
              class="font-display text-purple-200 hover:text-white transition-colors"
            >
              {item.name}
            </a>
          ))
        }
      </div>

      <button
        class="md:hidden text-purple-200 hover:text-white focus:outline-none"
        aria-label="Toggle menu"
        id="menuButton"
      >
        <Icon name="menu" />
      </button>
    </div>

    <!-- Mobile menu -->
    <div class="md:hidden hidden" id="mobileMenu">
      <div class="px-2 pt-2 pb-3 space-y-1">
        {
          navItems.map((item) => (
            <a
              href={item.href}
              class="font-display block px-3 py-2 text-purple-200 hover:text-white transition-colors"
            >
              {item.name}
            </a>
          ))
        }
      </div>
    </div>
  </div>
</nav>

<script>
  const menuButton = document.getElementById("menuButton");
  const mobileMenu = document.getElementById("mobileMenu");

  if (menuButton && mobileMenu) {
    menuButton.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });

    // Close mobile menu when clicking a link
    mobileMenu.querySelectorAll("a").forEach((link) => {
      link.addEventListener("click", () => {
        mobileMenu.classList.add("hidden");
      });
    });
  }
</script>
